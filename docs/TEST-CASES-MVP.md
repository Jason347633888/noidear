# MVP 功能测试用例清单

> 文档版本: 1.0
> 最后更新: 2026-02-03
> 适用: 文档管理系统 **MVP (Phase 1-6)**
> 类型: 功能测试（仅 MVP 范围）

---

## 一、用户认证模块 (Phase 1)

### 1.1 登录功能
- [ ] **AUTH-LOGIN-001**: 正常登录成功 (P0)
- [ ] **AUTH-LOGIN-002**: 错误密码登录 (P0)
- [ ] **AUTH-LOGIN-003**: 用户名不存在 (P0)
- [ ] **AUTH-LOGIN-004**: 账号已锁定 (P0) - 5次错误锁定
- [ ] **AUTH-LOGIN-005**: 账号已禁用 (P0)
- [ ] **AUTH-LOGIN-006**: 登录-必填项验证 (P0)
- [ ] **AUTH-LOGIN-007**: 登录-密码最小长度8位 (P0)
- [ ] **AUTH-LOGIN-008**: 登录-回车键提交 (P1)
- [ ] **AUTH-LOGIN-009**: 登录-密码脱敏 (P1)

### 1.2 Token验证
- [ ] **AUTH-TOKEN-001**: Token有效访问 (P0)
- [ ] **AUTH-TOKEN-002**: Token过期 (P0)过期
- [ - 7天 ] **AUTH-TOKEN-003**: Token无效 (P0) - 返回401
- [ ] **AUTH-TOKEN-004**: Token缺失 (P0) - 返回401

### 1.3 修改密码
- [ ] **AUTH-PWD-001**: 修改密码-成功 (P0)
- [ ] **AUTH-PWD-002**: 修改密码-旧密码错误 (P0)

---

## 二、用户管理模块 (Phase 1)

### 2.1 用户创建
- [ ] **USER-CREATE-001**: 创建用户-成功 (P0)
- [ ] **USER-CREATE-002**: 创建用户-用户名重复 (P0)
- [ ] **USER-CREATE-003**: 创建用户-必填项为空 (P0)
- [ ] **USER-CREATE-004**: 创建用户-用户名太短 (P0) - 最小3位
- [ ] **USER-CREATE-005**: 创建用户-密码太短 (P0) - 最小8位
- [ ] **USER-CREATE-006**: 创建用户-支持不选部门 (P0)
- [ ] **USER-CREATE-007**: 创建用户-支持不选上级 (P0)

### 2.2 用户查询
- [ ] **USER-QUERY-001**: 用户列表查看 (P0)
- [ ] **USER-QUERY-002**: 用户分页 (P0)
- [ ] **USER-QUERY-003**: 用户搜索-用户名/姓名 (P0)
- [ ] **USER-QUERY-004**: 用户详情查看 (P0)

### 2.3 用户编辑
- [ ] **USER-EDIT-001**: 编辑用户-基本资料 (P0)
- [ ] **USER-EDIT-002**: 编辑用户-禁用/启用 (P0)
- [ ] **USER-EDIT-003**: 编辑用户-切换部门 (P0)
- [ ] **USER-EDIT-004**: 编辑用户-切换上级 (P0)
- [ ] **USER-EDIT-005**: 编辑用户-角色变更 (P0)
- [ ] **USER-EDIT-006**: 编辑用户-重置密码 (P0)

### 2.4 用户删除
- [ ] **USER-DELETE-001**: 删除用户 (P0) - 软删除

---

## 三、部门管理模块 (Phase 1)

### 3.1 部门创建
- [ ] **DEPT-CREATE-001**: 创建部门-成功 (P0)
- [ ] **DEPT-CREATE-002**: 创建部门-必填项 (P0)
- [ ] **DEPT-CREATE-003**: 创建子部门 (P0)
- [ ] **DEPT-CREATE-004**: 创建根部门 (P0)

### 3.2 部门查询
- [ ] **DEPT-QUERY-001**: 部门列表 (P0)
- [ ] **DEPT-QUERY-002**: 部门详情 (P0)

### 3.3 部门编辑
- [ ] **DEPT-EDIT-001**: 编辑部门-名称 (P0)
- [ ] **DEPT-EDIT-002**: 编辑部门-移动部门 (P0)

### 3.4 部门停用/启用
- [ ] **DEPT-STATUS-001**: 停用部门 (P0)
- [ ] **DEPT-STATUS-002**: 启用部门 (P0)

### 3.5 部门删除
- [ ] **DEPT-DELETE-001**: 删除部门 (P0) - 软删除

---

## 四、文档管理模块 (Phase 2-3)

### 4.1 文件上传
- [ ] **DOC-UPLOAD-001**: 上传文件-成功 (P0)
- [ ] **DOC-UPLOAD-002**: 上传文件-大小超限 (P0) - 10MB
- [ ] **DOC-UPLOAD-003**: 上传文件-格式不支持 (P0) - 仅 PDF/Word/Excel
- [ ] **DOC-UPLOAD-004**: 上传文件-拖拽 (P0)
- [ ] **DOC-UPLOAD-005**: 上传文件-进度显示 (P0)

### 4.2 文件列表
- [ ] **DOC-LIST-001**: 文件列表-查看 (P0)
- [ ] **DOC-LIST-002**: 文件列表-分级显示 (P0) - level 1/2/3
- [ ] **DOC-LIST-003**: 文件列表-分页 (P0)
- [ ] **DOC-LIST-004**: 文件搜索-按标题 (P0)
- [ ] **DOC-LIST-005**: 文件筛选-按状态 (P0)
- [ ] **DOC-LIST-006**: 文件筛选-按部门 (P0)

### 4.3 文件详情
- [ ] **DOC-DETAIL-001**: 查看文件详情 (P0)
- [ ] **DOC-DETAIL-002**: 文件详情-基本信息 (P0)
- [ ] **DOC-DETAIL-003**: 文件详情-审批信息 (P0)

### 4.4 文件审批
- [ ] **DOC-APPROVE-001**: 提交审批 (P0)
- [ ] **DOC-APPROVE-002**: 审批通过 (P0)
- [ ] **DOC-APPROVE-003**: 审批驳回 (P0)
- [ ] **DOC-APPROVE-004**: 非审批人不能审批 (P0)

### 4.5 文件状态
- [ ] **DOC-STATUS-001**: 草稿状态 (P0)
- [ ] **DOC-STATUS-002**: 待审批状态 (P0)
- [ ] **DOC-STATUS-003**: 已发布状态 (P0)
- [ ] **DOC-STATUS-004**: 已驳回状态 (P0)

### 4.6 文件删除
- [ ] **DOC-DELETE-001**: 删除草稿文件 (P0)
- [ ] **DOC-DELETE-002**: 删除文件-确认框 (P0)

---

## 五、模板管理模块 (Phase 4)

### 5.1 模板创建
- [ ] **TPL-CREATE-001**: 创建模板-手动-成功 (P0)
- [ ] **TPL-CREATE-002**: 创建模板-Excel解析 (P0)
- [ ] **TPL-CREATE-003**: 创建模板-必填项 (P0)
- [ ] **TPL-CREATE-004**: 创建模板-无字段 (P0)
- [ ] **TPL-CREATE-005**: 模板编号自动生成 (P0)

### 5.2 字段配置
- [ ] **TPL-FIELD-001**: 字段类型-文本 (P0)
- [ ] **TPL-FIELD-002**: 字段类型-长文本 (P0)
- [ ] **TPL-FIELD-003**: 字段类型-数值 (P0)
- [ ] **TPL-FIELD-004**: 字段类型-日期 (P0)
- [ ] **TPL-FIELD-005**: 字段类型-下拉 (P0)
- [ ] **TPL-FIELD-006**: 字段类型-是/否 (P0)
- [ ] **TPL-FIELD-007**: 字段必填 (P0)
- [ ] **TPL-FIELD-008**: 字段删除 (P0)
- [ ] **TPL-FIELD-009**: 字段编辑 (P0)

### 5.3 Excel解析
- [ ] **TPL-EXCEL-001**: Excel解析-标准格式 (P0)
- [ ] **TPL-EXCEL-002**: Excel解析-字段映射 (P0)

### 5.4 模板列表
- [ ] **TPL-LIST-001**: 模板列表 (P0)
- [ ] **TPL-LIST-002**: 模板筛选-按状态 (P0)
- [ ] **TPL-LIST-003**: 模板筛选-按级别 (P0)
- [ ] **TPL-LIST-004**: 模板搜索 (P0)
- [ ] **TPL-LIST-005**: 模板分页 (P0)

### 5.5 模板操作
- [ ] **TPL-OP-001**: 模板复制 (P0)
- [ ] **TPL-OP-002**: 模板预览 (P0)
- [ ] **TPL-OP-003**: 模板详情 (P0)
- [ ] **TPL-OP-004**: 模板停用 (P0)
- [ ] **TPL-OP-005**: 模板启用 (P0)
- [ ] **TPL-OP-006**: 删除模板 (P0)

---

## 六、任务分发模块 (Phase 5)

### 6.1 任务创建
- [ ] **TASK-CREATE-001**: 分发任务-成功 (P0)
- [ ] **TASK-CREATE-002**: 分发任务-必填项 (P0)
- [ ] **TASK-CREATE-003**: 分发任务-必选部门 (P0)
- [ ] **TASK-CREATE-004**: 分发任务-必填截止日期 (P0)

### 6.2 任务列表
- [ ] **TASK-LIST-001**: 任务列表 (P0)
- [ ] **TASK-LIST-002**: 任务筛选-全部 (P0)
- [ ] **TASK-LIST-003**: 任务筛选-待完成 (P0)
- [ ] **TASK-LIST-004**: 任务筛选-已完成 (P0)
- [ ] **TASK-LIST-005**: 任务筛选-已取消 (P0)
- [ ] **TASK-LIST-006**: 任务搜索 (P0)
- [ ] **TASK-LIST-007**: 任务分页 (P0)

### 6.3 任务详情
- [ ] **TASK-DETAIL-001**: 任务详情 (P0)
- [ ] **TASK-DETAIL-002**: 任务关联模板 (P0)

### 6.4 任务填写
- [ ] **TASK-FILL-001**: 任务填写 (P0)
- [ ] **TASK-FILL-002**: 任务填写-必填字段 (P0)
- [ ] **TASK-FILL-003**: 任务填写-字段类型验证 (P0)
- [ ] **TASK-FILL-004**: 任务填写-表单保存 (P0)

### 6.5 任务锁定
- [ ] **TASK-LOCK-001**: 第一人提交锁定 (P0)
- [ ] **TASK-LOCK-002**: 锁定后不可编辑 (P0)

### 6.6 任务取消
- [ ] **TASK-CANCEL-001**: 取消任务-发起人 (P0)
- [ ] **TASK-CANCEL-002**: 取消任务-非发起人 (P0)

### 6.7 任务权限
- [ ] **TASK-PERM-001**: 部门内可见 (P0)
- [ ] **TASK-PERM-002**: 部门外不可见 (P0)

### 6.8 任务审批
- [ ] **TASK-APPROVE-001**: 任务审批通过 (P0)
- [ ] **TASK-APPROVE-002**: 任务审批驳回 (P0)

---

## 七、站内消息模块 (Phase 6)

### 7.1 消息列表
- [ ] **MSG-LIST-001**: 消息列表 (P0)
- [ ] **MSG-LIST-002**: 消息未读数 (P0)

### 7.2 消息操作
- [ ] **MSG-OP-001**: 消息已读 (P0)
- [ ] **MSG-OP-002**: 全部已读 (P0)
- [ ] **MSG-OP-003**: 消息删除 (P0)

---

## 八、审批流程模块 (MVP)

### 8.1 待审批列表
- [ ] **APP-PENDING-001**: 待审批列表 (P0)
- [ ] **APP-PENDING-002**: 待审批-分页 (P0)
- [ ] **APP-PENDING-003**: 待审批-为空 (P0)

### 8.2 审批操作
- [ ] **APP-ACTION-001**: 审批通过 (P0)
- [ ] **APP-ACTION-002**: 审批驳回 (P0)
- [ ] **APP-ACTION-003**: 非审批人不能审批 (P0)

---

## 统计

| 模块 | P0 | P1 | 合计 |
|------|----|----|------|
| 用户认证 | 14 | 2 | 16 |
| 用户管理 | 16 | 0 | 16 |
| 部门管理 | 13 | 0 | 13 |
| 文档管理 | 22 | 0 | 22 |
| 模板管理 | 20 | 0 | 20 |
| 任务分发 | 17 | 0 | 17 |
| 站内消息 | 4 | 0 | 4 |
| 审批流程 | 5 | 0 | 5 |
| **MVP合计** | **111** | **2** | **113** |

---

> **文档版本**: 1.0
> **最后更新**: 2026-02-03
> **用例总数**: 113条（P0: 111, P1: 2）
> **MVP范围**: Phase 1-6
