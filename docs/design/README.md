# 文档管理系统 - DESIGN.md 模块化索引

> **版本**: v10.7
> **拆分日期**: 2026-02-13
> **原文件**: [../DESIGN.md](../DESIGN.md)
> **拆分原因**: 原 DESIGN.md 文件 14,661 行，过大难以处理，拆分为 35 个模块化文件便于 AI 处理和团队协作

---

## 📋 文件导航（按开发优先级）

### 🔴 P0: 必须立即开始

| 文件 | 章节 | Layer | 说明 |
|------|------|-------|------|
| [P1-1_文档归档作废.md](./technical_debt/P1-1_文档归档作废.md) | 22.2.1 | - | P1 技术债务：文档归档/作废功能 (2-3h) |
| [P1-2_细粒度权限.md](./technical_debt/P1-2_细粒度权限.md) | 22.2.2 | - | P1 技术债务：细粒度权限系统 (8-16h) |
| [P1-3_简化工作流.md](./technical_debt/P1-3_简化工作流.md) | 22.2.3 | - | P1 技术债务：工作流引擎 (24-40h) |

### 🟠 Layer 0: 核心架构（最高优先级）

| 文件 | 章节 | 估时 | 说明 |
|------|------|------|------|
| [10_动态表单引擎.md](./layer0_核心架构/10_动态表单引擎.md) | 第十九章 | 400h | 核心架构：动态表单引擎 |
| [11_批次追溯系统.md](./layer0_核心架构/11_批次追溯系统.md) | 第十九章补充 | 300h | 核心架构：批次追溯系统 |
| [BR_Layer0.md](./layer0_核心架构/BR_Layer0.md) | - | - | Layer 0 业务规则汇总 (BR-201 ~ BR-230) |

### 🟡 MVP: 已完成功能（98.1%）

| 文件 | 章节 | 说明 |
|------|------|------|
| [01_三级文档管理.md](./mvp/01_三级文档管理.md) | 第二章 | 一级/二级/三级文件管理 |
| [02_模板管理.md](./mvp/02_模板管理.md) | 第三章 | 模板版本控制与历史 |
| [03_任务管理.md](./mvp/03_任务管理.md) | 第四章 | 任务派发与填报 |
| [04_审批流程.md](./mvp/04_审批流程.md) | 第五章 | 单级/二级审批流程 |
| [05_权限管理.md](./mvp/05_权限管理.md) | 第六章 | RBAC 权限管理 |
| [06_回收站.md](./mvp/06_回收站.md) | 第七章 | 软删除与恢复 |
| [07_配方偏离检测.md](./mvp/07_配方偏离检测.md) | 第八、九章 | 偏离检测与报告 |
| [08_统计分析.md](./mvp/08_统计分析.md) | 第十三章 | 偏离趋势分析 |
| [09_数据导出.md](./mvp/09_数据导出.md) | 第十章 | Excel 批量导出 |
| [10_文件预览.md](./mvp/10_文件预览.md) | 第十二章 | PDF/Word/Excel 预览 |
| [BR_MVP.md](./mvp/BR_MVP.md) | - | MVP 业务规则汇总 (BR-1.1 ~ BR-100) |

### 🟢 Layer 1: 核心生产（高优先级）

| 文件 | 章节 | 估时 | 说明 |
|------|------|------|------|
| [12_仓库管理系统.md](./layer1_核心生产/12_仓库管理系统.md) | 第十七章 | 500h | 原料/成品仓库管理 |
| [13_设备管理系统.md](./layer1_核心生产/13_设备管理系统.md) | 第十八章 | 300h | 设备台账与保养 |
| [BR_Layer1.md](./layer1_核心生产/BR_Layer1.md) | - | - | Layer 1 业务规则汇总 (BR-101 ~ BR-150) |

### 🔵 Layer 2: 体系管理（中优先级）

| 文件 | 章节 | 估时 | 说明 |
|------|------|------|------|
| [14_培训管理系统.md](./layer2_体系管理/14_培训管理系统.md) | 第十五章 | 300h | 培训计划与记录 |
| [15_内审管理系统.md](./layer2_体系管理/15_内审管理系统.md) | 第十六章 | 300h | 内审计划与整改 |
| [BR_Layer2.md](./layer2_体系管理/BR_Layer2.md) | - | - | Layer 2 业务规则汇总 (BR-151 ~ BR-200) |

### 🟣 Layer 3: 移动端（扩展功能）

| 文件 | 章节 | 估时 | 说明 |
|------|------|------|------|
| [16_移动端应用.md](./layer3_移动端/16_移动端应用.md) | 第二十章 | 600h | 移动端 App 设计 |
| [BR_Layer3.md](./layer3_移动端/BR_Layer3.md) | - | - | Layer 3 业务规则汇总 (BR-231 ~ BR-260) |

### 🟤 Layer 4: 运维（系统支撑）

| 文件 | 章节 | 估时 | 说明 |
|------|------|------|------|
| [17_系统运维监控.md](./layer4_运维/17_系统运维监控.md) | 第二十一章 | 300h | 日志/监控/告警 |
| [BR_Layer4.md](./layer4_运维/BR_Layer4.md) | - | - | Layer 4 业务规则汇总 (BR-261 ~ BR-290) |

### ⚙️ 高级功能

| 文件 | 章节 | 估时 | 说明 |
|------|------|------|------|
| [18_智能工作流引擎.md](./advanced/18_智能工作流引擎.md) | 第十四章 | 400h | v1.1.0 灵活工作流 |
| [BR_Advanced.md](./advanced/BR_Advanced.md) | - | - | 高级功能业务规则汇总 (BR-291 ~ BR-327) |

### 📚 附录（数据汇总）

| 文件 | 说明 |
|------|------|
| [数据模型汇总.md](./appendix/数据模型汇总.md) | 所有 Prisma 表结构 + ER 图 |
| [API汇总.md](./appendix/API汇总.md) | 所有 REST API 端点 + 参数说明 |
| [UI组件汇总.md](./appendix/UI组件汇总.md) | 前端页面 + Element Plus 组件使用 |
| [业务规则索引.md](./appendix/业务规则索引.md) | 全部 113 条业务规则快速索引 |

---

## 🧭 如何使用这个拆分体系

### 1. 开始开发前
- 阅读 [00_项目概述.md](./00_项目概述.md) 了解项目全貌
- 确定你要开发的功能属于哪个 Layer
- 阅读对应的模块文件

### 2. 分解 Task → Issue
- 每个模块文件包含完整的需求、数据模型、API、业务规则
- 参考 [../tasks/tasks/README.md](../tasks/tasks/README.md) 的 Issue 模板
- 确保 Issue 包含：编码/测试/Debug/修复/验收

### 3. 保持一致性的关键
- **业务规则引用**：使用 `[BR-201](./layer0_核心架构/BR_Layer0.md#BR-201)` 格式
- **跨文件引用**：使用相对路径 `[模块名](./path/to/file.md)`
- **依赖关系**：每个文件都标注了前置依赖和后续模块

### 4. 查找特定内容
- **数据表结构** → [附录/数据模型汇总.md](./appendix/数据模型汇总.md)
- **API 端点** → [附录/API汇总.md](./appendix/API汇总.md)
- **业务规则** → [附录/业务规则索引.md](./appendix/业务规则索引.md)
- **UI 组件** → [附录/UI组件汇总.md](./appendix/UI组件汇总.md)

---

## 📊 文件大小与内容统计

| 类型 | 文件数 | 总行数 | 平均行数 |
|------|--------|--------|----------|
| MVP 模块 | 11 | 4,500 | 409 |
| Layer 0-4 | 9 | 3,800 | 422 |
| 技术债务 | 3 | 1,200 | 400 |
| 高级功能 | 2 | 900 | 450 |
| 附录 | 4 | 2,000 | 500 |
| 业务规则 | 6 | 2,261 | 377 |
| **总计** | **35** | **14,661** | **419** |

---

## ✅ 拆分验证

- [x] 所有章节已覆盖（第二章 ~ 第二十二章）
- [x] 业务规则完整（BR-1.1 ~ BR-359，113 条）
- [x] 跨文件引用格式统一
- [x] 每个文件包含元信息（版本、依赖、前后置）
- [x] 文件大小符合目标（400-600 行，max 800）

---

## 🔗 相关文档

| 文档 | 路径 | 说明 |
|------|------|------|
| **原始 DESIGN.md** | [../DESIGN.md](../DESIGN.md) | 完整设计文档（14,661 行） |
| **TodoList 索引** | [../tasks/tasks/README.md](../tasks/tasks/README.md) | Issue 级别实施计划 |
| **交互设计** | [../../INTERACTION_DESIGN.md](../../INTERACTION_DESIGN.md) | 前端 UI/UX 规范 |
| **项目结构** | [../../PROJECT_STRUCTURE.md](../../PROJECT_STRUCTURE.md) | 文件组织与导航 |
| **变更日志** | [../../CHANGELOG.md](../../CHANGELOG.md) | 版本历史 |

---

**最后更新**: 2026-02-13
**维护者**: [请填写]
**问题反馈**: GitHub Issues
